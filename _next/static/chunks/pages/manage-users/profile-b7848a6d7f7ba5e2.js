(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{5975:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage-users/profile",function(){return r(8987)}])},6794:function(e,s,r){"use strict";var a=r(5893),i=r(1664),n=r.n(i);r(7294);var t=r(6564);let l=e=>{let{title:s,parent:r,titleText:i}=e;return(0,a.jsx)("div",{className:"container-fluid",children:(0,a.jsx)("div",{className:"page-header",children:(0,a.jsxs)(t.X2,{children:[(0,a.jsx)(t.JX,{sm:"6",children:(0,a.jsx)("div",{className:"page-header-left",children:(0,a.jsxs)("h3",{children:[s,(0,a.jsx)("small",{children:i})]})})}),(0,a.jsx)(t.JX,{sm:"6",children:(0,a.jsxs)("ol",{className:"breadcrumb pull-right",children:[(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)(n(),{href:"/dashboard",children:(0,a.jsx)("i",{className:"fa fa-home"})})}),(0,a.jsx)("li",{className:"breadcrumb-item active",children:r})]})})]})})})};s.Z=l},8987:function(e,s,r){"use strict";r.r(s);var a=r(5893),i=r(6794),n=r(2175),t=r(4231);r(1664);var l=r(7294),o=r(3752),c=r(2774),d=r(1140),m=r(9589),u=r(6564);r(1163);var p=r(2920);r(4213);var h=r(2355),N=r(5942);let x=()=>{let[e,s]=(0,l.useState)(!1),[r,x]=(0,l.useState)(!1),[j,f]=(0,l.useState)(),v=()=>{try{x(!1),f();let e=h.Z.cargar(JSON.parse(localStorage.getItem("usuario")).accessToken);e.then(e=>{console.log(e.data),f(e.data),x(!0)})}catch(s){p.Am.error("Error, intenta de nuevo",{position:p.Am.POSITION.TOP_RIGHT})}},g=async e=>{console.log(e);try{let s=h.Z.Editar(e.firstName,e.secondName,e.firstLastName,e.secondLastName,e.age,e.birthdate,e.username,e.oldPassword,e.newPassword,JSON.parse(localStorage.getItem("usuario")).accessToken);s.then(e=>{console.log(e),v()})}catch(r){p.Am.error("Error, intenta de nuevo",{position:p.Am.POSITION.TOP_RIGHT})}};return(0,l.useEffect)(()=>{v()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:"Perfil",titleText:"Mis datos",parent:"Editar Perfil"}),(0,a.jsx)(u.W2,{fluid:!0,children:(0,a.jsx)(u.X2,{className:"log-in",children:(0,a.jsx)(u.JX,{lg:"12",className:"form-login",children:(0,a.jsx)(u.Zb,{className:"card",children:(0,a.jsx)(u.eW,{className:"card-body",children:r?(0,a.jsx)(n.J9,{initialValues:{firstName:j.nombre1,secondName:j.nombre2,firstLastName:j.apellido1,secondLastName:j.apellido2,email:j.email,age:j.edad,birthdate:(e=>{let s=new Date(e),r=s.getFullYear(),a=(s.getMonth()+1).toString().padStart(2,"0"),i=s.getDate().toString().padStart(2,"0");return"".concat(r,"-").concat(a,"-").concat(i)})(j.fechaNacimiento),username:j.nombreUsuario,password:"",confirmpass:""},validationSchema:t.Ry().shape({firstName:t.Z_().required("Primer nombre es requerido..!"),secondName:t.Z_().required("Segundo nombre es requerido..!"),firstLastName:t.Z_().required("Primer apellido es requerido..!"),secondLastName:t.Z_().required("Segundo apellido es requerido..!"),email:t.Z_().required("email es requerido..!"),age:t.Z_().required("edad es requerido..!"),birthdate:t.Z_().required("fecha es requerido..!"),username:t.Z_().required("usuario es requerido..!"),oldPassword:t.Z_().required("contrase\xf1a es requerida..!"),newPassword:t.Z_().required("Por favor confirme su contrase\xf1a..!")}),onSubmit(e){g(e)},children(r){let{errors:i,touched:t}=r;return(0,a.jsxs)(n.l0,{children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(o.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"text",name:"firstName",className:"form-control ".concat(i.firstName&&t.firstName?"is-invalid":""),placeholder:"Primer nombre"})]}),i.firstName&&t.firstName&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.firstName})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(o.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"text",name:"secondName",className:"form-control ".concat(i.secondName&&t.secondName?"is-invalid":""),placeholder:"Segundo nombre"})]}),i.secondName&&t.secondName&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.secondName})]})})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(o.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"text",name:"firstLastName",className:"form-control ".concat(i.firstLastName&&t.firstLastName?"is-invalid":""),placeholder:"Primer apellido"})]}),i.firstLastName&&t.firstLastName&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.firstLastName})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(o.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"text",name:"secondLastName",className:"form-control ".concat(i.secondLastName&&t.secondLastName?"is-invalid":""),placeholder:"Segundo apellido"})]}),i.secondLastName&&t.secondLastName&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.secondLastName})]})})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(c.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"email",className:"form-control ".concat(i.email&&t.email?"is-invalid":""),name:"email",readOnly:!0,placeholder:"Email"})]}),i.email&&t.email&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.email})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(o.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"text",name:"username",className:"form-control ".concat(i.username&&t.username?"is-invalid":""),placeholder:"Usuario"})]}),i.username&&t.username&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.username})]})})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(o.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"text",name:"age",className:"form-control ".concat(i.age&&t.age?"is-invalid":""),placeholder:"Edad"})]}),i.age&&t.age&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.age})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(d.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"date",name:"birthdate",className:"form-control ".concat(i.birthdate&&t.birthdate?"is-invalid":""),placeholder:"fecha de nacimiento"})]}),i.birthdate&&t.birthdate&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.birthdate})]})})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(m.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"".concat(e?"text":"oldPassword"),name:"oldPassword",id:"pwd-input",className:"form-control ".concat(i.oldPassword&&t.oldPassword?"is-invalid":""),placeholder:"Contrase\xf1a Vieja"}),(0,a.jsx)("div",{className:"input-group-apend",children:(0,a.jsx)("i",{id:"pwd-icon",className:"far fa-eye".concat(e?"":"-slash"),onClick(){s(!e)}})})]}),i.oldPassword&&t.oldPassword&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.oldPassword})]})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("div",{className:"input-group-prepend",children:(0,a.jsx)(m.Z,{size:20})}),(0,a.jsx)(n.gN,{type:"".concat(e?"text":"Confirmar contrase\xf1a"),name:"newPassword",id:"pwd-input",className:"form-control ".concat(i.newPassword&&t.newPassword?"is-invalid":""),placeholder:"Nueva contrase\xf1a"}),(0,a.jsx)("div",{className:"input-group-apend",children:(0,a.jsx)("i",{id:"pwd-icon",className:"far fa-eye".concat(e?"":"-slash"),onClick(){s(!e)}})})]}),i.newPassword&&t.newPassword&&(0,a.jsx)("div",{className:"text-danger ms-4",children:i.newPassword})]})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"btn btn-gradient btn-pill me-sm-3 me-2",children:"Editar Datos"})})]})}}):(0,a.jsx)(N.Z,{})})})})})})]})};s.default=x},9589:function(e,s,r){"use strict";var a=r(7294),i=r(5697),n=r.n(i);function t(){return(t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var l=(0,a.forwardRef)(function(e,s){var r=e.color,i=e.size,n=void 0===i?24:i,l=function(e,s){if(null==e)return{};var r,a,i=function(e,s){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],s.indexOf(r)>=0||(i[r]=e[r]);return i}(e,s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["color","size"]);return a.createElement("svg",t({ref:s,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});l.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},l.displayName="Lock",s.Z=l},2774:function(e,s,r){"use strict";var a=r(7294),i=r(5697),n=r.n(i);function t(){return(t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var l=(0,a.forwardRef)(function(e,s){var r=e.color,i=e.size,n=void 0===i?24:i,l=function(e,s){if(null==e)return{};var r,a,i=function(e,s){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],s.indexOf(r)>=0||(i[r]=e[r]);return i}(e,s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["color","size"]);return a.createElement("svg",t({ref:s,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),a.createElement("polyline",{points:"22,6 12,13 2,6"}))});l.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},l.displayName="Mail",s.Z=l}},function(e){e.O(0,[141,774,888,179],function(){return e(e.s=5975)}),_N_E=e.O()}]);